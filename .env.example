# --------------------------------------------------------------------------------
# .env.example - Arquivo de Exemplo para Variáveis de Ambiente
#
# Copie este arquivo para .env (cp .env.example .env) e preencha com seus valores.
# O arquivo .env NUNCA deve ser enviado para o repositório Git.
# --------------------------------------------------------------------------------

#=======================================
# COMUM / GLOBAL
#=======================================
# Tag a ser usada para as imagens de produção. Pode ser 'latest' ou um hash de commit.
SERVICE_TAG=latest

#=======================================
# KEYCLOAK - Servidor de Autenticação
#=======================================
# Banco de dados do Keycloak
KEYCLOAK_DB=keycloak_db
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=password

# Credenciais do administrador do Keycloak
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# URLs para os serviços se comunicarem com o Keycloak (rodando localmente)
KEYCLOAK_SERVER_URL=http://keycloak:8080
KEYCLOAK_ISSUER=http://localhost:8080/realms/poupe-ai
KEYCLOAK_JWKS_URL=http://keycloak:8080/realms/poupe-ai/protocol/openid-connect/certs

# Segredos dos Clientes do Keycloak
# Segredo para o provedor de identidade do Google
GOOGLE_CLIENT_ID=google-client-id
GOOGLE_CLIENT_SECRET=google-client-secret

# Segredo do cliente "poupe-ai-backend" (usado pelos serviços)
KEYCLOAK_ADMIN_CLIENT_SECRET=backend-client-secret
POUPE_AI_BACKEND_CLIENT_SECRET=backend-client-secret # Repetido para compatibilidade, use o mesmo valor

#=======================================
# FINANCE SERVICE - Serviço de Finanças
#=======================================
# Banco de dados do Serviço de Finanças
FINANCE_DB=poupeai_finance_db
FINANCE_DB_USER=finance_user
FINANCE_DB_PASSWORD=finance_user_password

#=======================================
# RABBITMQ - Message Broker
#=======================================
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_EXCHANGE_MAIN=notification_exchange
RABBITMQ_ROUTING_KEY=notification.event

# URL de conexão para os serviços (composta pelas variáveis acima)
RABBITMQ_URL=amqp://user:password@rabbitmq:5672/

#=======================================
# REDIS - Cache e Broker
#=======================================

# URL de conexão para o Redis do serviço de finanças
REDIS_FINANCE_URL=redis://redis:6379/0

# URL de conexão para o Redis do serviço de finanças
REDIS_NOTIFICATION_URL=redis://redis:6379/8

#=======================================
# CELERY - Tarefas Assíncronas
#=======================================
# Credenciais para a interface de monitoramento Flower
CELERY_FLOWER_USER=admin
CELERY_FLOWER_PASSWORD=admin

#=======================================
# NOTIFICATION SERVICE - Serviço de Notificação
#=======================================
# Configuração do servidor de e-mail (ex: Mailtrap, SendGrid, etc.)
MAIL_USERNAME=your-smtp-username
MAIL_PASSWORD=your-smtp-password
MAIL_FROM=poupeai.notificacoes@gmail.com
MAIL_FROM_NAME="Poupe.AI"
MAIL_PORT=587
MAIL_SERVER=smtp-relay.brevo.com

#=======================================
# LOGGING - Grafana
#=======================================
# Credenciais de admin para o Grafana
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin